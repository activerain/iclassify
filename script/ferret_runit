#!/usr/bin/env script/runner

# Ferret DRb server launcher script
#
# For use with runit, in that it doesn't fork.

config = ActsAsFerret::Remote::Config.load

print "Starting ferret DRb server..."
trap("TERM") { exit(0) }
trap("KILL") { exit(1) }
trap("INT")  { exit(1) }

begin 
  ActsAsFerret::Remote::Server.start
  puts "Done."
rescue
  puts "Error starting ferret DRb server: #{$!}"
  exit(1)
end
DRb.thread.join

# vim:set filetype=ruby:
